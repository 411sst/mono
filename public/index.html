<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Meownopoly</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <main>
    <h1>Meownopoly</h1>
    <section class="panel">
      <div class="queue-row">
        <input id="name" placeholder="Your name" />
        <select id="mapSelect"></select>
        <button id="queueBtn">Join Queue</button>
      </div>
      <div id="queueStatus"></div>
    </section>

    <section class="panel">
      <h2>Sessions</h2>
      <ul id="sessions"></ul>
    </section>

    <section class="panel" id="gamePanel" hidden>
      <div id="gameOver" class="game-over" hidden></div>
      <div id="dash"></div>
      <div id="lastEvent" class="last-event"></div>
      <div class="actions">
        <button id="rollBtn" disabled>Roll</button>
        <button id="buyBtn" disabled>Buy</button>
        <button id="payJailBtn" hidden>Pay Jail ($50)</button>
        <button id="usePardonBtn" hidden>Use Pardon Card</button>
        <button id="endBtn" disabled>End Turn</button>
      </div>
      <!-- Trade panel -->
      <div id="tradePanel" class="trade-panel">
        <h2>Trade</h2>

        <!-- Pending trades — shown when state.pendingTrades has entries for this player -->
        <div id="pendingTrade" hidden>
          <div id="pendingTradeDetails"></div>
        </div>

        <!-- New trade form — shown when no pending trade -->
        <div id="newTradeForm">
          <div class="trade-row">
            <label>Offer to:</label>
            <select id="tradeTarget"></select>
          </div>
          <div class="trade-cols">
            <div class="trade-section">
              <strong>You offer</strong>
              <label>Cash <input type="number" id="tradeCashOffer" min="0" value="0" /></label>
              <div id="tradePropsOffer" class="trade-props"></div>
              <label class="trade-pardon"><input type="checkbox" id="tradePardonOffer"> Pardon card</label>
            </div>
            <div class="trade-section">
              <strong>You want</strong>
              <label>Cash <input type="number" id="tradeCashRequest" min="0" value="0" /></label>
              <div id="tradePropsRequest" class="trade-props"></div>
              <label class="trade-pardon"><input type="checkbox" id="tradePardonRequest"> Pardon card</label>
            </div>
          </div>
          <input type="text" id="tradeMessage" maxlength="200" placeholder="Message (optional)" />
          <button id="tradeOfferBtn">Send Offer</button>
        </div>
      </div>

      <!-- Chat panel -->
      <div id="chatPanel" class="chat-panel">
        <h2>Chat</h2>
        <div id="chatMessages" class="chat-messages"></div>
        <div class="chat-input-row">
          <input type="text" id="chatInput" maxlength="300" placeholder="Say something…" />
          <button id="chatSendBtn">Send</button>
        </div>
      </div>

      <h2>Board</h2>
      <div id="board"></div>
    </section>
  </main>
  <script type="module" src="/app.js"></script>
</body>
</html>
